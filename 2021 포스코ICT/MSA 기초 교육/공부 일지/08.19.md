# 타입스크립트 트랜스파일

#### 타입스크립트

MS에서 개발하고 관리하는 오픈소스 프로그래밍 언어로 어떤 브라우저나 호스트, OS에서도 동작한다.

타입스크립트는 ES5를 포함하는 집합이기 때문에 기존의 ES5 자바스크립트 문법을 그대로 사용할 수 있다.

또한, ES6의 새로운 기능들을 사용하기 위해 Babel과 같은 별도 트랜스파일러를 사용하지 않아도 ES6의 새로운 기능을 기존의 자바스크립트 엔진(브라우저 또는 Node.js)에서 사용할 수 있다.

<center>
    <img src="https://miro.medium.com/max/890/0*S9g0u8mEdx89EOiZ.png"/>
</center>



#### transpile vs compile

compile이란?

- 한 언어로 작성된 소스 코드를 다른 언어로 변환하는 것을 의미
- ex) Java -> bytecode



transpile이란?

- 한 언어로 작성된 소스 코드를 비슷한 수준의 추상화를 가진 다른 언어로 변환하는 것을 의미
- ex) es6코드 -> es5코드로 변환하는 경우
- ex) c++ -> c
- transpiler은 다른 말로 source to source complier, 컴파일러의 일종으로 트랜스파일러가 있다.
  - compile이라는 큰 범주안에 transpile이 존재



Transpiler란?

- Typescript(ts->js), SASS(scss->css), Babel(es6->es5)이 트랜스파일러
- 트랜스파일러는 같은 언어이지만, 문법적으로 변환해주는 도구이다.
- 컴파일러는 머신언어로 변경해서 언어와 파일 자체가 변경되지만,
- 트랜스파일러는 같은 언어이지만, 문법만 바꿔주는 역할을 한다.



#### 타입스크립트 트랜스파일링

타입스크립트 컴파일러(tsc)는 타입스크립트 파일(.ts)를 자바스크립트 파일로 트랜스 파일링한다.



#### 자바스크립트로 트랜스파일링하는 이유는?

브라우저와 Node.js는 자바스크립트만 처리하기 때문에

타입스크립트 코드를 실행하거나 디버깅하기 전에 트랜스파일링을 해야한다.



# 타입스크립트를 쓰는 이유

#### 자바스크립트의 문제점

```js
// Problem 1
const obj = { width: 10, height: 15 };

const area = obj.width * obj.heigh; // NaN

// Problem 2
function checkNumberIsZero(par) {
  return par == 0;
}

checkNumberIsZero(0); // true
checkNumberIsZero([]); // true
checkNumberIsZero(""); // true
checkNumberIsZero(false); // true
checkNumberIsZero(this); // ? (this에 따라 달라짐)
```

- Problem1
  - 자바스크립트의 객체는 기본적으로 존재하지 않는 프로퍼티에 접근이 가능하기 때문
- Problem2
  - 인자의 타입을 제한하지 않아 아무 타입이나 인자로 쓸 수 있고, 비교 부분에서 강제 형변환을 해서 예기치  않았던 동작이 발생한다.
- 이유화 해결법
  - 자바스크립트는 타입을 런타임 이전이 아닌, 런타임에 동적으로 검사한다.
    - 그래서 프로그램을 실행해보지 않는 이상 어떤 타입 에러도 잡아낼 수 없다.
  - 이런 에러를 잡기위해 "**런타임 이전에 (정적으로) 타입을 검사할 수 있는 자바스크립트**인 타입스크립트가 만들어졌다."



```tsx
function checkNumberIsZero(par: number): boolean {
  return par === 0;
}

checkNumberIsZero(0); // true
checkNumberIsZero([]); // Error!
checkNumberIsZero(""); // Error!
checkNumberIsZero(false); // Error!
checkNumberIsZero(this); // Error!
```

- checkNumberIsZero() 함수의 인자 타입을 number로 제한하여, number 이외의 인자를 넘겨줄 시 트랜스파일 단계에서 에러가 발생한다.



#### 결론

동적으로 타입을 검사하는 자바스크립트는 엄청 미약한 오류도 프로그램을 실행하기 전까지 오류인지 알 수 없다.

타입스크립트는 이렇게 예측할 수 없는 상황을 개발자에게 알려주어 버그를 미연에 방지할 수 있도록 도와준다.