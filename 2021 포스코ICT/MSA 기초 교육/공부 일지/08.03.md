# HTTP 메서드

- GET
  - 요청 받은 URI의 정보를 검색하여 응답한다.

- HEAD
  - GET방식과 동일하지만, 응답에 Body가 없고 응답 코드와 HEAD만 응답한다.
- POST
  - 요청된 자원을 생성(create)한다. 새로 작성된 리소스인 경우 HTTP 헤더 항목 Location : URI주소를 포함하여 응답한다.
- PUT
  - 요청된 자원을 수정한다. 내용 갱신을 위주로 Location:URI를 보내지 않아도 된다. 클라이언트 측은 요청된 URI를 그대로 사용하는 것으로 간주한다.
- PATCH
  - PUT과 유사하게 요청된 자원을 수정할 때 사용한다. PUT의 경우 자원 전체를 갱신하는 의미이지만, PATCH는 해당 자원의 일부를 교체하는 의미로 사용된다.
- DELETE
  - 요청된 자원을 삭제할 것을 요청한다. (안전성 문제로 대부분의 서버에서 비활성)
- CONNECT
  - 동적으로 터널 모드를 교환, 프락시 기능을 요청 시 사용
- TRACE
  - 원격지 서버에 루프백 메시지 호출하기 위해 테스트용으로 사용
- OPTIONS
  - 웹 서버에서 지원되는 메서드의 종류를 확인할 경우 사용



#### GET vs POST

GET

- URL에 변수(데이터)를 포함시켜 요청 -> 데이터 양에 한계
  - HTTP는 GET방식의 URL 길이에 제약을 두고 있지는 않지만,
  - 브라우저에서 최대 길이를 제한하고 있다.
- 데이터를 Header에 포함하여 전송한다
- URL에 데이터가 노출되어 보안에 취약하다
- 캐싱할 수 있다.
- POST보다 상대적으로 전송속도가 빠르다

POST

- URL에 변수(데이터)를 노출하지 않고 요청한다.
- 데이터를 Body에 포함시킨다.
- URL에 데이터가 노출되지 않아서 기본 보안은 되어있다.
- 캐싱할 수 없다.

캐싱이란?

- 한번 접근 후, 또 요청할 시 빠르게 접근하기 위해 레지스터에 데이터를 저장시켜 놓는 것이다.
- GET은 캐시에 남아있어 전송 속도가 빠르고
- POST는 캐시가 남지 않아 보안적인 면에서 유리
  - 단, SSL(Security Socket Layer)를 사용하지 않으면 GET과 마찬가지

#### GET과 DELETE

- GET과 DELETE를 제외한 POST, PUT, PATCH는 요청을 보낼 때 본문(body)을 같이 보낼 수 있습니다.

- GET과 DELETE도 본문을 넣어 보내는 것이 가능은 하지만 GET과 DELETE의 본문은 어떻게 처리해야한다는 정의가 없기 때문에(서버가 본문을 무시하는 것이 권장됩니다.), GET이나 DELETE 요청 시에는 본문을 같이 보내지 않습니다.

#### POST vs PUT

- insert vs update 차이
- 또한 POST는 멱등하지 않고, PUT은 멱등하다
- 즉, 동일한 자원을 여러번 POST하면 서버 자원에 변화가 생기지만, 여러번 PUT하는 경우는 변화가 생기지 않는다.

#### PUT vs PATCH

- Put은 전체 자원 업데이트 vs PATCH는 일부 변경
- PUT은 멱등하지만, PATCH는 멱등하지 않다.
- PUT은 전체 자원을 업데이트하기 때문에 동일 자원에 대해서 동일하게 PUT을 처리하는 경우 멱등하게 처리된다.
- PATCH는 자원의 일부가 변경되기 때문에 멱등성을 보장 

<center>
    <img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=http%3A%2F%2Fcfile10.uf.tistory.com%2Fimage%2F9935CE375AE7330A15A3D1"/>
</center>



# HTTP 헤더

## 공통 헤더: 요청과 응답 모두 사용되는 헤더

1. Date
2. Connection
3. Content-Length
4. Cache-Control
5. Content-Type
   - 컨텐츠 타입(MIME)과 문자열 인코딩(utf-8)을 명시
6. Content-Language
7. Content-Encoding
   - 응답 컨텐츠를 br,gzip, deflate 등 알고리즘으로 압축해서 보내면 브라우저가 해재해서 사용
   - 요청/응답 속도가 빨라지고, 데이터 소모량도 줄어든다.



## 요청헤더

1. Host
   - 서버의 도메인 네임
2. User-Agent
   - 현재 사용자가 어떤 클라이언트(운영체제, 앱, 브라우저 등)를 통해 요청을 보냈는지 알 수 있다.
3. Accept
   - 클라이언트가 허용할 수 있는 파일 형식(MIME TYPE)
4. Cookie
   - 웹 서버가 클라이언트에 쿠키를 저장해 놓았다면 쿠키의 정보를 키-값 쌍으로 웹 ㅓ버에 전송
5. Origin
   - POST같은 요청을 보낼 때, 요청이 어느 주소에서 시작되었는지를 나타내는데 이때 보낸 주소와 받는 주소가 다르면 CORS 문제 발생
6. If-Modified-Since
7. Authorization
   - 인증 토큰을 서버로 보낼 때 사용
   - JWT을 사용한 인증에서 주로 사용



## 응답헤더

1. Server

   - 웹 서버 정보를 나타낸다.

2. Access-Control-Allow-Origin

   - 요청 Host와 응답 Host가 다르면 CORS 에러가 발생하는데 서버에서 응답 메시지 Access-Control-Allow-Origin 헤더에 프론트 주소를 적어주면 에러가 발생하지 않는다.

   - 관련 헤더

      \- Access-Control-Request-Method : 실제로 보내려는 메서드

      \- Access-Control-Request-Headers : 실제로 보내려는 헤더

      \- Access-Control-Allow-Methods : 서버가 허용하는 메서드

      \- Access-Control-Allow-Headers : 서버가 허용하는 헤더

3. Allow

4. Content-Disposition

5. Location

6. Content-Security-Policy





# URL vs URI

<center>
    <img src="https://media.vlpt.us/images/jch9537/post/51dcc312-8ecb-4048-80df-cbde40865e7a/image.png"/>
</center>

- URI: Uniform Resource Identifier, 통합 자원 식별자
  - 인터넷에 있는 자원을 나타내는 유일한 주소
- URL: Uniform Resource Locator, 파일식별자, 유일 자원 지시기
  - 자원이 어디 있는지 알려주기 위한 규약
  - 컴퓨터 네트워크와 검색 메커니즘에서의 위치를 지정하는 웹 리소스에 대한 찾모
  - URL은 웹 사이트 주소뿐만 아니라 컴퓨터 네트워크 상의 자원을 모두 나타낼 수 있다.
- URN: Uniform Resource Name, 통합 자원 이름
  - urn:scheme을 사용하는 URI를 위한 이름
  - URN은 영속적이고 위치에 독립적인 자원을 위한 지시자



<center>
    <img src="https://media.vlpt.us/images/jch9537/post/88b0c8ac-5870-4cbc-b613-7dd39f510f31/image.png"/>
</center>

- http://opentutorials.org:3000/main?id=HTML&page=12 에서 
  - http://opentutorials.org:3000/main 까지는 URL이고 (URI이기도 하다)
  - http://opentutorials.org:3000/main?id=HTML&page=12 은 URI라고 한다. (URL은 아닌)
- 이유는?
  - URL은 자원의 위치를 나타내는 것이고
  - URI는 자원의 식별자인데, ?id=HTML&page=12는 위치를 나타내는 것이 아니라 식별해주는 부분이기 때문